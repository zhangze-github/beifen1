<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div></div>
    <script>
        // //运动事件监听
        // if (window.DeviceMotionEvent) {
        //     window.addEventListener('devicemotion', deviceMotionHandler, false);
        // }

        // //获取加速度信息
        // //通过监听上一步获取到的x, y, z 值在一定时间范围内的变化率，进行设备是否有进行晃动的判断。
        // //而为了防止正常移动的误判，需要给该变化率设置一个合适的临界值。
        // var SHAKE_THRESHOLD = 4000;
        // var last_update = 0;
        // var x, y, z, last_x = 0,
        //     last_y = 0,
        //     last_z = 0;

        // function deviceMotionHandler(eventData) {
        //     var acceleration = eventData.accelerationIncludingGravity;
        //     var curTime = new Date().getTime();
        //     if ((curTime - last_update) > 10) {
        //         var diffTime = curTime - last_update;
        //         last_update = curTime;
        //         x = acceleration.x;
        //         y = acceleration.y;
        //         z = acceleration.z;
        //         var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;
        //         document.write(speed);
        //         if (speed > SHAKE_THRESHOLD) {
        //             alert("你中奖啦！"); // Do something
        //         }
        //         last_x = x;
        //         last_y = y;
        //         last_z = z;
        //     }
        // }
        var oDiv = document.getElementsByTagName('div')[0];
        var content = '';
        window.addEventListener('devicemotion', function (e) {
            content = e.accelerationIncludingGravity.x + '-' + e.accelerationIncludingGravity.y + '-' + e.accelerationIncludingGravity.z;
            oDiv.innerHTML = content;
            console.log(content);
        })
    </script>
</body>

</html>